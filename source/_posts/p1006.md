---
title: P1006 [NOIP2008 提高组] 传纸条
date: 2021-02-04 06:36:59
tags: [坐标DP,luogu]
---

DP数组：

第一维度维护的是在传的过程中纵坐标与横坐标的和。

### 在同一斜线上，剩下表示两个点的从坐标就可以表示这两个点的位置。

第二维度维护的是相对在左边的点的纵坐标。

第三维度维护的是相对在右边的点的纵坐标。

当查询一个情况时，只有四种情况可以到他

```cpp
F[sum][i][j]=max{F[sum-1][i][j]+F[sum-1][i][j-1]+F[sum-1][i-1][j]+F[sum-1][i-1][j-1]}
```

<!--more-->

sum-1 i j 即为i,j在横坐标上左移1

sum-1 i-1 j 即为i在纵坐标上上移1

sum-1 i j-1 同理

sum-1 i-1 j-1 i,j在纵坐标上上移1

```cpp
#include<iostream>
#include<cstring>
#define SUM 1001
#define COL 101
using namespace std;
int m, n;
int dp[SUM][COL][COL], a[1001][1001];
int main()
{
	cin >> m >> n;
	for(int i = 1; i <= m; i++)
	{
		for(int j = 1; j <= n; j++)
		{
			cin >> a[i][j];
		}
	}
	memset(dp, -1, sizeof(dp));
	dp[2][1][1] = 0;
	for(int k = 3; k < m + n; k++)
	{
		for(int i = 1; i < n; i++)
		{
			for(int j = i + 1; j <= n; j++)
			{
				dp[k][i][j] = max(dp[k][i][j],max(dp[k - 1][i][j], max(dp[k - 1][i - 1][j], max(dp[k - 1][i][j - 1], dp[k - 1][i - 1][j - 1])))) + a[k - i][i] + a[k - j][j];
			}
		}
	}
	cout << dp[m + n - 1][n - 1][n] << endl;
	return 0;
}

```
